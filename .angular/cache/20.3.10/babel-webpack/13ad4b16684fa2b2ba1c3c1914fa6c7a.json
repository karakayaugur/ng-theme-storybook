{"ast":null,"code":"import _asyncToGenerator from \"/Users/ugurcakil/Documents/projects/ugurk/ng-theme-storybook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __name } from \"./_browser-chunks/chunk-JK72E6FR.js\";\n\n// src/react-18.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom/client\";\nvar nodes = /* @__PURE__ */new Map();\nfunction getIsReactActEnvironment() {\n  return globalThis.IS_REACT_ACT_ENVIRONMENT;\n}\n__name(getIsReactActEnvironment, \"getIsReactActEnvironment\");\nvar WithCallback = /* @__PURE__ */__name(({\n  callback,\n  children\n}) => {\n  const once = React.useRef();\n  React.useLayoutEffect(() => {\n    if (once.current === callback) {\n      return;\n    }\n    once.current = callback;\n    callback();\n  }, [callback]);\n  return children;\n}, \"WithCallback\");\nif (typeof Promise.withResolvers === \"undefined\") {\n  Promise.withResolvers = () => {\n    let resolve = null;\n    let reject = null;\n    const promise = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n    return {\n      promise,\n      resolve,\n      reject\n    };\n  };\n}\nvar renderElement = /* @__PURE__ */__name(/*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (node, el, rootOptions) {\n    const root = yield getReactRoot(el, rootOptions);\n    if (getIsReactActEnvironment()) {\n      root.render(node);\n      return;\n    }\n    const {\n      promise,\n      resolve\n    } = Promise.withResolvers();\n    root.render(React.createElement(WithCallback, {\n      callback: resolve\n    }, node));\n    return promise;\n  });\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}(), \"renderElement\");\nvar unmountElement = /* @__PURE__ */__name((el, shouldUseNewRootApi) => {\n  const root = nodes.get(el);\n  if (root) {\n    root.unmount();\n    nodes.delete(el);\n  }\n}, \"unmountElement\");\nvar getReactRoot = /* @__PURE__ */__name(/*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(function* (el, rootOptions) {\n    let root = nodes.get(el);\n    if (!root) {\n      root = ReactDOM.createRoot(el, rootOptions);\n      nodes.set(el, root);\n    }\n    return root;\n  });\n  return function (_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}(), \"getReactRoot\");\nexport { renderElement, unmountElement };","map":{"version":3,"names":["__name","React","ReactDOM","nodes","Map","getIsReactActEnvironment","globalThis","IS_REACT_ACT_ENVIRONMENT","WithCallback","callback","children","once","useRef","useLayoutEffect","current","Promise","withResolvers","resolve","reject","promise","res","rej","renderElement","_ref","_asyncToGenerator","node","el","rootOptions","root","getReactRoot","render","createElement","_x","_x2","_x3","apply","arguments","unmountElement","shouldUseNewRootApi","get","unmount","delete","_ref2","createRoot","set","_x4","_x5"],"sources":["/Users/ugurcakil/Documents/projects/ugurk/ng-theme-storybook/node_modules/@storybook/react-dom-shim/dist/react-18.js"],"sourcesContent":["import {\n  __name\n} from \"./_browser-chunks/chunk-JK72E6FR.js\";\n\n// src/react-18.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom/client\";\nvar nodes = /* @__PURE__ */ new Map();\nfunction getIsReactActEnvironment() {\n  return globalThis.IS_REACT_ACT_ENVIRONMENT;\n}\n__name(getIsReactActEnvironment, \"getIsReactActEnvironment\");\nvar WithCallback = /* @__PURE__ */ __name(({\n  callback,\n  children\n}) => {\n  const once = React.useRef();\n  React.useLayoutEffect(() => {\n    if (once.current === callback) {\n      return;\n    }\n    once.current = callback;\n    callback();\n  }, [callback]);\n  return children;\n}, \"WithCallback\");\nif (typeof Promise.withResolvers === \"undefined\") {\n  Promise.withResolvers = () => {\n    let resolve = null;\n    let reject = null;\n    const promise = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n    return { promise, resolve, reject };\n  };\n}\nvar renderElement = /* @__PURE__ */ __name(async (node, el, rootOptions) => {\n  const root = await getReactRoot(el, rootOptions);\n  if (getIsReactActEnvironment()) {\n    root.render(node);\n    return;\n  }\n  const { promise, resolve } = Promise.withResolvers();\n  root.render(React.createElement(WithCallback, { callback: resolve }, node));\n  return promise;\n}, \"renderElement\");\nvar unmountElement = /* @__PURE__ */ __name((el, shouldUseNewRootApi) => {\n  const root = nodes.get(el);\n  if (root) {\n    root.unmount();\n    nodes.delete(el);\n  }\n}, \"unmountElement\");\nvar getReactRoot = /* @__PURE__ */ __name(async (el, rootOptions) => {\n  let root = nodes.get(el);\n  if (!root) {\n    root = ReactDOM.createRoot(el, rootOptions);\n    nodes.set(el, root);\n  }\n  return root;\n}, \"getReactRoot\");\nexport {\n  renderElement,\n  unmountElement\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}